# Migration `20200322174609-remove-availability`

This migration has been generated by Arjun Velagapudi at 3/22/2020, 5:46:09 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
PRAGMA foreign_keys=OFF;

CREATE TABLE "quaint"."new_Space" (
    "address" TEXT NOT NULL DEFAULT '' ,
    "id" INTEGER NOT NULL  PRIMARY KEY AUTOINCREMENT,
    "listingUrl" TEXT NOT NULL DEFAULT '' ,
    "price" TEXT   ,
    "size" TEXT   ,
    "state" TEXT NOT NULL DEFAULT '' ,
    "type" TEXT   ,
    "zipcode" TEXT NOT NULL DEFAULT '' 
) 

INSERT INTO "quaint"."new_Space" ("address", "id", "listingUrl", "price", "size", "state", "type", "zipcode") SELECT "address", "id", "listingUrl", "price", "size", "state", "type", "zipcode" FROM "quaint"."Space"

DROP TABLE "quaint"."Space";

ALTER TABLE "quaint"."new_Space" RENAME TO "Space";

PRAGMA "quaint".foreign_key_check;

PRAGMA foreign_keys=ON;
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200322164543-spaces-added..20200322174609-remove-availability
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource DS {
   provider = "sqlite"
-  url = "***"
+  url = env("DATABASE_URL")
 }
 generator photonjs {
   provider = "prisma-client-js"
@@ -26,8 +26,7 @@
   zipcode       String
   type          String?
   size          String?
   price         String?
-  availability  Boolean
   listingUrl    String
 }
-// there should be a function which calculates distances between lat/long
+
```


